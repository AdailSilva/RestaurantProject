<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui" template="/WEB-INF/template.xhtml">

	<ui:define name="head">
		<script type="text/javascript">
			function skinChart() {
				this.cfg.shadow = false;
				this.cfg.title = '';
				this.cfg.seriesColors = [ '#03A9F4', '#E91E63', '#4CAF50',
						'#FFC107' ];
				this.cfg.grid = {
					background : '#ffffff',
					borderColor : '#ffffff',
					gridLineColor : '#F5F5F5',
					shadow : false
				};
				this.cfg.axesDefaults = {
					borderWidth : 0.1,
					borderColor : 'bdbdbd',
					rendererOptions : {
						textColor : '#666F77'
					}
				};
				this.cfg.seriesDefaults = {
					shadow : false,
					lineWidth : 1,
					markerOptions : {
						shadow : false,
						size : 7,
						style : 'circle'
					}
				}
			}

			function skinBar() {
				this.cfg.shadow = false;
				this.cfg.title = '';
				this.cfg.seriesColors = [ '#4CAF50', '#FFC107' ];
				this.cfg.grid = {
					background : '#ffffff',
					borderColor : '#ffffff',
					gridLineColor : '#F5F5F5',
					shadow : false
				};
				this.cfg.axesDefaults = {
					borderWidth : 0.1,
					borderColor : 'bdbdbd',
					rendererOptions : {
						textColor : '#666F77'
					}
				};
				this.cfg.seriesDefaults = {
					shadow : false,
					lineWidth : 1,
					renderer : $.jqplot.BarRenderer,
					markerOptions : {
						shadow : false,
						size : 7,
						style : 'circle'
					}
				}
			}

			function skinArea() {
				this.cfg.shadow = false;
				this.cfg.title = '';
				this.cfg.seriesColors = [ '#FFC107', '#4CAF50' ];
				this.cfg.grid = {
					background : '#ffffff',
					borderColor : '#ffffff',
					gridLineColor : '#F5F5F5',
					shadow : false
				};
				this.cfg.axesDefaults = {
					borderWidth : 0.1,
					borderColor : 'bdbdbd',
					rendererOptions : {
						textColor : '#666F77'
					}
				};
				this.cfg.seriesDefaults = {
					shadow : false,
					lineWidth : 1,
					markerOptions : {
						shadow : false,
						size : 7,
						style : 'circle'
					}
				}
			}

			function skinBubble() {
				this.cfg.shadow = false;
				this.cfg.title = '';
				this.cfg.seriesColors = [ '#4CAF50', '#FFC107' ];
				this.cfg.grid = {
					background : '#ffffff',
					borderColor : '#ffffff',
					gridLineColor : '#F5F5F5',
					shadow : false
				};
				this.cfg.axesDefaults = {
					rendererOptions : {
						textColor : '#666F77'
					}
				};
				this.cfg.seriesDefaults = {
					shadow : false,
					lineWidth : 1,
					renderer : $.jqplot.BubbleRenderer,
					markerOptions : {
						shadow : false,
						size : 7,
						style : 'circle'
					}
				}
			}

			function skinZoom() {
				this.cfg.shadow = false;
				this.cfg.title = '';
				this.cfg.seriesColors = [ '#4CAF50', '#FFC107' ];
				this.cfg.grid = {
					background : '#ffffff',
					borderColor : '#ffffff',
					gridLineColor : '#F5F5F5',
					shadow : false
				};
				this.cfg.axesDefaults = {
					rendererOptions : {
						textColor : '#666F77'
					}
				};
				this.cfg.seriesDefaults = {
					shadow : false,
					lineWidth : 1,
					markerOptions : {
						shadow : false,
						size : 7,
						style : 'circle'
					}
				}
			}

			function skinPie() {
				this.cfg.shadow = false;
				this.cfg.title = '';
				this.cfg.seriesColors = [ '#03A9F4', '#E91E63', '#4CAF50',
						'#FFC107' ];
				this.cfg.grid = {
					background : '#ffffff',
					borderColor : '#ffffff',
					gridLineColor : '#F5F5F5',
					shadow : false
				};
				this.cfg.axesDefaults = {
					rendererOptions : {
						textColor : '#666F77',
					}
				};
				this.cfg.seriesDefaults = {
					renderer : $.jqplot.PieRenderer,
					shadow : false,
					lineWidth : 1,
					markerOptions : {
						shadow : false,
						size : 7,
						style : 'circle'
					}
				}
			}

			function skinDonut() {
				this.cfg.shadow = false;
				this.cfg.title = '';
				this.cfg.seriesColors = [ '#03A9F4', '#E91E63', '#4CAF50',
						'#FFC107' ];
				this.cfg.grid = {
					background : '#ffffff',
					borderColor : '#ffffff',
					gridLineColor : '#F5F5F5',
					shadow : false
				};
				this.cfg.axesDefaults = {
					rendererOptions : {
						textColor : '#666F77',
					}
				};
				this.cfg.seriesDefaults = {
					renderer : $.jqplot.DonutRenderer,
					shadow : false,
					lineWidth : 1,
					markerOptions : {
						shadow : false,
						size : 7,
						style : 'circle'
					}
				}
			}

			function skinBarAndLine() {
				this.cfg.shadow = false;
				this.cfg.title = '';
				this.cfg.seriesColors = [ '#03A9F4', '#FFC107' ];
				this.cfg.grid = {
					background : '#ffffff',
					borderColor : '#ffffff',
					gridLineColor : '#F5F5F5',
					shadow : false
				};
				this.cfg.axesDefaults = {
					borderWidth : 0.1,
					borderColor : 'bdbdbd',
					rendererOptions : {
						textColor : '#666F77'
					}
				};
				this.cfg.seriesDefaults = {
					shadow : false,
					lineWidth : 5,
					renderer : $.jqplot.BarRenderer,
					markerOptions : {
						shadow : false,
						size : 7,
						style : 'circle'
					}
				}
			}

			function skinMeterGauge() {
				this.cfg.title = '';
				this.cfg.seriesDefaults = {
					shadow : false,
					lineWidth : 5,
					renderer : $.jqplot.MeterGaugeRenderer,
					rendererOptions : {
						shadow : false,
						min : 100,
						max : 800,
						intervals : [ 200, 300, 400, 500, 600, 700, 800 ],
						intervalColors : [ '#03A9F4', '#E91E63', '#4CAF50',
								'#FFC107', '#03A9F4', '#E91E63', '#4CAF50' ]
					}
				}
			}

			function skinMultiAxis() {
				this.cfg.shadow = false;
				this.cfg.title = '';
				this.cfg.seriesColors = [ '#4CAF50', '#FFC107' ];
				this.cfg.grid = {
					background : '#ffffff',
					borderColor : '#ffffff',
					gridLineColor : '#F5F5F5',
					shadow : false
				};
				this.cfg.axesDefaults = {
					borderWidth : 0.1,
					borderColor : 'bdbdbd',
					rendererOptions : {
						textColor : '#666F77'
					}
				};
				this.cfg.seriesDefaults = {
					shadow : false,
					lineWidth : 1,
					renderer : $.jqplot.BarRenderer,
					markerOptions : {
						shadow : false,
						size : 7,
						style : 'circle'
					}
				}
			}
		</script>
		<style type="text/css">
.jqplot-xaxis-label, .jqplot-yaxis-label, .jqplot-y2axis-label,
	.jqplot-x2axis-label {
	color: #757575;
}

table.jqplot-table-legend {
	background-color: #ffffff;
	color: #757575;
	border-color: #bdbdbd;
}
</style>

	</ui:define>


	<ui:define name="content">
		<h:form id="frm">
			<p:messages id="messages" closable="true" />
			<div class="card">

				<h2>Gráficos de pedidos</h2>




				<div class="container-fluid">

					<h:panelGroup id="test">

						<div class="row" style="margin: 10px;">

							<div class="col-md-2">
								<p:outputLabel value="Selecione um período :" />
							</div>
							<div class="col-md-2">
								<p:selectOneMenu value="#{pedidosGraficsBean.menuLineModel}"
									style="width:100%;" required="true"
									requiredMessage="Você precisa escolher uma opção">
									<f:selectItem itemLabel="7 dias" itemValue="1" />
									<f:selectItem itemLabel="30 dias" itemValue="2" />
									<f:selectItem itemLabel="1 ano" itemValue="3" />
									<f:selectItem itemLabel="Selecione" noSelectionOption="true" />
									<p:ajax event="change"
										listener="#{pedidosGraficsBean.escolherRadio}" update="@form" />
								</p:selectOneMenu>
							</div>


						</div>







						<h:panelGroup
							rendered="#{pedidosGraficsBean.produtoAdapter.size() > 0 }">

							<p:chart type="line" model="#{pedidosGraficsBean.lineModel}"
								responsive="true" style="height:300px;" />

							<p:dataTable value="#{pedidosGraficsBean.produtoAdapter}"
								paginator="true" reflow="true" var="p">

								<p:column headerText="Data">
									<p:outputLabel value="#{p.date}">
										<f:convertDateTime pattern="dd/MM/yyyy"
											timeZone="America/Fortaleza" />
									</p:outputLabel>
								</p:column>
								<p:column headerText="Nº pedidos">
									<p:outputLabel value="#{p.quantidadePedidos}" />
								</p:column>
								<p:column headerText="Valor total">
									<p:outputLabel value="R$ #{p.valorTotal}" />
								</p:column>
								<p:column headerText="Custo">
									<p:outputLabel value="R$ #{p.custoTotal}" />
								</p:column>
								<p:column headerText="Lucro">
									<p:outputLabel value="R$ #{p.lucroTotal}" />
								</p:column>

							</p:dataTable>
							<br />

							<p:outputLabel
								value="Custo total : R$ #{pedidosGraficsBean.custoTotal}" />
							<br />
							<p:outputLabel
								value="Lucro total : R$ #{pedidosGraficsBean.lucroTotal}" />

						</h:panelGroup>
					</h:panelGroup>
				</div>








			</div>
		</h:form>
	</ui:define>

</ui:composition>